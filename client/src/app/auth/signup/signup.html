<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#91729c] to-[#432161] p-6">
  <form 
    class="w-full max-w-2xl bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl p-8 space-y-6 border border-white/20"
    #signupForm="ngForm"
    (ngSubmit)="onSubmit(signupForm)"
  >
    <!-- Title -->
    <h2 class="text-3xl font-bold text-white text-center mb-6">
      <span class="bg-gradient-to-r from-[#91729c] to-[#432161] bg-clip-text text-transparent">Create Your Account</span>
    </h2>

    <!-- First + Last Name -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-user mr-2"></i>First Name
        </label>
        <input 
          type="text" 
          [(ngModel)]="formData.firstName" 
          name="firstName"
          required
          #firstName="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
                 placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
          placeholder="John">
        <div *ngIf="firstName.invalid && firstName.touched" class="text-red-500 text-sm">
          First name is required
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-user mr-2"></i>Last Name
        </label>
        <input 
          type="text" 
          [(ngModel)]="formData.lastName" 
          name="lastName"
          required
          #lastName="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
                 placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
          placeholder="Doe">
        <div *ngIf="lastName.invalid && lastName.touched" class="text-red-500 text-sm">
          Last name is required
        </div>
      </div>
    </div>

    <!-- Username -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">
        <i class="fas fa-user-tag mr-2"></i>Username
      </label>
      <input 
        type="text" 
        [(ngModel)]="formData.username" 
        name="username"
        required
        #username="ngModel"
        (blur)="checkUsername()"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
               placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
        placeholder="johnny_dev">
      <div *ngIf="username.invalid && username.touched" class="text-red-500 text-sm">
        Username is required
      </div>
      <div *ngIf="usernameExists" class="text-red-500 text-sm">
        Username already exists
      </div>
    </div>

    <!-- Email -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">
        <i class="fas fa-envelope mr-2"></i>Email Address
      </label>
      <input 
        type="email" 
        [(ngModel)]="formData.email" 
        name="email"
        required
        email
        #email="ngModel"
        (blur)="checkEmail()"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
               placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
        placeholder="john@example.com">
      <div *ngIf="email.invalid && email.touched" class="text-red-500 text-sm">
        <div *ngIf="email.errors?.['required']">Email is required</div>
        <div *ngIf="email.errors?.['email']">Invalid email format</div>
      </div>
      <div *ngIf="emailExists" class="text-red-500 text-sm">
        Email already exists
      </div>
    </div>

    <!-- Phone + DOB -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-phone mr-2"></i>Phone
        </label>
        <input 
          type="text" 
          [(ngModel)]="formData.phone" 
          name="phone"
          required
          #phone="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
                 placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
          placeholder="+20123456789">
        <div *ngIf="phone.invalid && phone.touched" class="text-red-500 text-sm">
          Phone is required
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-calendar mr-2"></i>Date of Birth
        </label>
        <input 
          type="date" 
          [(ngModel)]="formData.dateOfBirth" 
          name="dateOfBirth"
          required
          #dateOfBirth="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
                 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all">
        <div *ngIf="dateOfBirth.invalid && dateOfBirth.touched" class="text-red-500 text-sm">
          Date of birth is required
        </div>
      </div>
    </div>

    <!-- Country + City + Address -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2"><i class="fas fa-flag mr-2"></i>Country</label>
        <input type="text" [(ngModel)]="formData.country" name="country" required #country="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 
                 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
          placeholder="Egypt">
        <div *ngIf="country.invalid && country.touched" class="text-red-500 text-sm">
          Country is required
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2"><i class="fas fa-city mr-2"></i>City</label>
        <input type="text" [(ngModel)]="formData.city" name="city" required #city="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 
                 focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
          placeholder="Cairo">
        <div *ngIf="city.invalid && city.touched" class="text-red-500 text-sm">
          City is required
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">
        <i class="fas fa-map-marker-alt mr-2"></i>Address
      </label>
      <input type="text" [(ngModel)]="formData.address" name="address" required #address="ngModel"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 
               focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
        placeholder="Street, Building, Apt">
      <div *ngIf="address.invalid && address.touched" class="text-red-500 text-sm">
        Address is required
      </div>
    </div>

   <!-- Profile Picture -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">Profile Picture</label>
      <input 
        type="file" 
        (change)="onFileSelected($event)" 
        name="profilePicture" 
        required
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none"
      />
      <div *ngIf="!formData.profilePicture && signupForm.submitted" class="text-red-500 text-sm">
        Profile picture is required
      </div>
    </div>

    <!-- Bio -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2"><i class="fas fa-info-circle mr-2"></i>Bio</label>
      <textarea [(ngModel)]="formData.bio" name="bio" rows="3" required #bio="ngModel"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 
               focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all"
        placeholder="Tell us something about yourself..."></textarea>
      <div *ngIf="bio.invalid && bio.touched" class="text-red-500 text-sm">
        Bio is required
      </div>
    </div>

    <!-- Password + Confirm -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-lock mr-2"></i>Password
        </label>
        <input 
          type="password" 
          name="password" 
          [(ngModel)]="formData.password"
          required
          minlength="8"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#\$%\^&\*]).{8,}$"
          #password="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none"
        />
        <div *ngIf="password.invalid && password.touched" class="text-red-500 text-sm">
          <div *ngIf="password.errors?.['required']">Password is required</div>
          <div *ngIf="password.errors?.['minlength']">At least 8 characters</div>
          <div *ngIf="password.errors?.['pattern']">
            Must include upper, lower, number, and special character
          </div>
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-white/90 mb-2">
          <i class="fas fa-lock mr-2"></i>Confirm Password
        </label>
        <input 
          type="password" 
          name="confirmPassword" 
          [(ngModel)]="formData.confirmPassword"
          required
          #confirmPassword="ngModel"
          class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none"
        />
        <div *ngIf="confirmPassword.touched" class="text-red-500 text-sm">
          <div *ngIf="confirmPassword.errors?.['required']">Confirm password is required</div>
          <div *ngIf="formData.confirmPassword && formData.confirmPassword !== formData.password">
            Passwords do not match
          </div>
        </div>
      </div>
    </div>

    <!-- Gender -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">
        <i class="fas fa-venus-mars mr-2"></i>Gender
      </label>
      <select [(ngModel)]="formData.gender" name="gender" required #gender="ngModel"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white 
               focus:ring-2 focus:ring-[#91729c] focus:outline-none transition-all">
        <option value="" disabled selected hidden class="text-gray-800">Select Gender</option>
        <option value="male" class="text-gray-800">Male</option>
        <option value="female" class="text-gray-800">Female</option>
        <option value="other" class="text-gray-800">Other</option>
      </select>
      <div *ngIf="gender.invalid && gender.touched" class="text-red-500 text-sm">
        Gender is required
      </div>
    </div>

    <!-- Job Title -->
    <div>
      <label class="block text-sm font-semibold text-white/90 mb-2">
        <i class="fas fa-briefcase mr-2"></i>Job Title
      </label>
      <input type="text" name="jobTitle" [(ngModel)]="formData.jobTitle" required #jobTitle="ngModel"
        class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:ring-2 focus:ring-[#91729c] focus:outline-none"
      />
      <div *ngIf="jobTitle.invalid && jobTitle.touched" class="text-red-500 text-sm">
        Job title is required
      </div>
    </div>

    <!-- Submit -->
    <button type="submit" [disabled]="signupForm.invalid || usernameExists || emailExists"
      class="w-full bg-gradient-to-r from-[#91729c] to-[#432161] text-white py-4 rounded-xl font-bold text-lg 
             hover:shadow-2xl hover:scale-[1.02] transition-transform duration-300">
      <i class="fas fa-user-plus mr-2"></i>Create Account
    </button>
  </form>
</div>
